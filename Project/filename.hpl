<?xml version="1.0" encoding="UTF-8"?>
<pipeline>
  <info>
    <name>filename</name>
    <name_sync_with_filename>Y</name_sync_with_filename>
    <description/>
    <extended_description/>
    <pipeline_version/>
    <pipeline_type>Normal</pipeline_type>
    <parameters>
    </parameters>
    <capture_transform_performance>N</capture_transform_performance>
    <transform_performance_capturing_delay>1000</transform_performance_capturing_delay>
    <transform_performance_capturing_size_limit>100</transform_performance_capturing_size_limit>
    <created_user>-</created_user>
    <created_date>2025/10/08 20:38:01.190</created_date>
    <modified_user>-</modified_user>
    <modified_date>2025/10/08 20:38:01.190</modified_date>
  </info>
  <notepads>
    <notepad>
      <backgroundcolorblue>251</backgroundcolorblue>
      <backgroundcolorgreen>232</backgroundcolorgreen>
      <backgroundcolorred>201</backgroundcolorred>
      <bordercolorblue>90</bordercolorblue>
      <bordercolorgreen>58</bordercolorgreen>
      <bordercolorred>14</bordercolorred>
      <fontbold>N</fontbold>
      <fontcolorblue>90</fontcolorblue>
      <fontcolorgreen>58</fontcolorgreen>
      <fontcolorred>14</fontcolorred>
      <fontitalic>N</fontitalic>
      <fontname>Segoe UI</fontname>
      <fontsize>14</fontsize>
      <height>36</height>
      <xloc>1024</xloc>
      <yloc>80</yloc>
      <note>ativar node-red</note>
      <width>142</width>
    </notepad>
  </notepads>
  <order>
    <hop>
      <from>Correct Brands</from>
      <to>Correct Fuel</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Input car_information_dataset.csv</from>
      <to>String operations</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Replace in string</from>
      <to>Correct Brands</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Replace in string 2</from>
      <to>Correct Brands 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>String operations</from>
      <to>Replace in string</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>String operations 2</from>
      <to>Replace in string 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Correct Brands 2</from>
      <to>JavaScript</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values</from>
      <to>Merge join</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 2</from>
      <to>Merge join</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Merge join</from>
      <to>Select values 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Correct Fuel</from>
      <to>Select values</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>JavaScript</from>
      <to>Select values 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Select values 3</from>
      <to>Sort rows 3</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Sort rows 3</from>
      <to>Group by</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>REST client</from>
      <to>JavaScript 2</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>payload_json</from>
      <to>REST client</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Group by</from>
      <to>Write to log</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Write to log</from>
      <to>payload_json</to>
      <enabled>Y</enabled>
    </hop>
    <hop>
      <from>Get data from XML</from>
      <to>String operations 2</to>
      <enabled>Y</enabled>
    </hop>
  </order>
  <transform>
    <name>Correct Brands</name>
    <type>ValueMapper</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <field_to_use>Brand</field_to_use>
    <fields>
      <field>
        <source_value>vw</source_value>
        <target_value>volkswagen</target_value>
      </field>
      <field>
        <source_value>mb</source_value>
        <target_value>mercedes</target_value>
      </field>
      <field>
        <source_value>b m w</source_value>
        <target_value>bmw</target_value>
      </field>
      <field>
        <source_value>mercedes-bens</source_value>
        <target_value>mercedes</target_value>
      </field>
      <field>
        <source_value>TOYOTA MOTOR	</source_value>
        <target_value>toyota</target_value>
      </field>
      <field>
        <source_value>HONDA MOTOR	</source_value>
        <target_value>honda</target_value>
      </field>
      <field>
        <source_value>CHEVY</source_value>
        <target_value>chevrolet</target_value>
      </field>
      <field>
        <source_value>GM</source_value>
        <target_value>chevrolet</target_value>
      </field>
      <field>
        <source_value>mercedesbenz</source_value>
        <target_value>mercedes</target_value>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>576</xloc>
      <yloc>160</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Correct Brands 2</name>
    <type>ValueMapper</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <field_to_use>Brand</field_to_use>
    <fields>
      <field>
        <source_value>GM</source_value>
        <target_value>chevrolet</target_value>
      </field>
      <field>
        <source_value>CHEVY</source_value>
        <target_value>chevrolet</target_value>
      </field>
      <field>
        <source_value>HONDA MOTOR	</source_value>
        <target_value>honda</target_value>
      </field>
      <field>
        <source_value>TOYOTA MOTOR	</source_value>
        <target_value>toyota</target_value>
      </field>
      <field>
        <source_value>mercedes-benz</source_value>
        <target_value>mercedes</target_value>
      </field>
      <field>
        <source_value>b m w</source_value>
        <target_value>bmw</target_value>
      </field>
      <field>
        <source_value>mb</source_value>
        <target_value>mercedes</target_value>
      </field>
      <field>
        <source_value>vw</source_value>
        <target_value>volkswagen</target_value>
      </field>
      <field>
        <source_value>mercedesbenz</source_value>
        <target_value>mercedes</target_value>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>576</xloc>
      <yloc>320</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Correct Fuel</name>
    <type>ValueMapper</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <field_to_use>Fuel_Type</field_to_use>
    <fields>
      <field>
        <source_value>petrol</source_value>
        <target_value>Petrol</target_value>
      </field>
      <field>
        <source_value>Gasoleo</source_value>
        <target_value>Diesel</target_value>
      </field>
      <field>
        <source_value>Electrico</source_value>
        <target_value>Electric</target_value>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>688</xloc>
      <yloc>160</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Get data from XML</name>
    <type>getXMLData</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <include>N</include>
    <include_field/>
    <rownum>N</rownum>
    <addresultfile>N</addresultfile>
    <namespaceaware>N</namespaceaware>
    <ignorecomments>N</ignorecomments>
    <readurl>N</readurl>
    <validating>N</validating>
    <usetoken>N</usetoken>
    <IsIgnoreEmptyFile>N</IsIgnoreEmptyFile>
    <doNotFailIfNoFile>Y</doNotFailIfNoFile>
    <rownum_field/>
    <encoding>UTF-8</encoding>
    <file>
      <name>${PROJECT_HOME}/resource/stand_vendas.xml</name>
      <filemask/>
      <exclude_filemask/>
      <file_required>N</file_required>
      <include_subfolders>N</include_subfolders>
    </file>
    <fields>
      <field>
        <name>Brand</name>
        <xpath>Brand</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Model</name>
        <xpath>Model</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>License_Plate</name>
        <xpath>License_Plate</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Year_and_Month</name>
        <xpath>Year_and_Month</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Date_of_Sale</name>
        <xpath>Date_of_Sale</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
      <field>
        <name>Sale_Price</name>
        <xpath>Sale_Price</xpath>
        <element_type>node</element_type>
        <result_type>valueof</result_type>
        <type>Integer</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
        <repeat>N</repeat>
      </field>
    </fields>
    <limit>0</limit>
    <loopxpath>/Cars/Car</loopxpath>
    <IsInFields>N</IsInFields>
    <IsAFile>N</IsAFile>
    <XmlField/>
    <prunePath/>
    <shortFileFieldName/>
    <pathFieldName/>
    <hiddenFieldName/>
    <lastModificationTimeFieldName/>
    <uriNameFieldName/>
    <rootUriNameFieldName/>
    <extensionFieldName/>
    <sizeFieldName/>
    <attributes/>
    <GUI>
      <xloc>144</xloc>
      <yloc>320</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Group by</name>
    <type>GroupBy</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <add_linenr>N</add_linenr>
    <all_rows>N</all_rows>
    <directory>${java.io.tmpdir}</directory>
    <fields>
      <field>
        <aggregate>Numero_Vendas</aggregate>
        <subject>Brand</subject>
        <type>COUNT_ALL</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>Soma_CO2</aggregate>
        <subject>CO2_Emissions</subject>
        <type>SUM</type>
        <valuefield/>
      </field>
      <field>
        <aggregate>Media_CO2</aggregate>
        <subject>CO2_Emissions</subject>
        <type>AVERAGE</type>
        <valuefield/>
      </field>
    </fields>
    <give_back_row>N</give_back_row>
    <group>
      <field>
        <name>Brand</name>
      </field>
    </group>
    <ignore_aggregate>N</ignore_aggregate>
    <linenr_fieldname/>
    <prefix>grp</prefix>
    <attributes/>
    <GUI>
      <xloc>1312</xloc>
      <yloc>160</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Input car_information_dataset.csv</name>
    <type>CSVInput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <filename>${PROJECT_HOME}/resource/car_information_dataset.csv</filename>
    <filename_field/>
    <rownum_field/>
    <include_filename>N</include_filename>
    <separator>,</separator>
    <enclosure>"</enclosure>
    <header>Y</header>
    <buffer_size>50000</buffer_size>
    <schemaDefinition/>
    <lazy_conversion>Y</lazy_conversion>
    <add_filename_result>N</add_filename_result>
    <parallel>N</parallel>
    <newline_possible>N</newline_possible>
    <encoding/>
    <fields>
      <field>
        <name>Brand</name>
        <type>String</type>
        <format/>
        <currency>$</currency>
        <decimal>,</decimal>
        <group> </group>
        <length>10</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>Model</name>
        <type>String</type>
        <format/>
        <currency>$</currency>
        <decimal>,</decimal>
        <group> </group>
        <length>8</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>Year</name>
        <type>Date</type>
        <format>yyyy</format>
        <currency>$</currency>
        <decimal>,</decimal>
        <group> </group>
        <length>15</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>Engine_Size</name>
        <type>String</type>
        <format/>
        <currency>$</currency>
        <decimal>.</decimal>
        <group>,</group>
        <length>15</length>
        <precision>1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>Fuel_Type</name>
        <type>String</type>
        <format/>
        <currency>$</currency>
        <decimal>,</decimal>
        <group> </group>
        <length>8</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>Transmission</name>
        <type>String</type>
        <format/>
        <currency>$</currency>
        <decimal>,</decimal>
        <group> </group>
        <length>14</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>Mileage</name>
        <type>Integer</type>
        <format>#</format>
        <currency>$</currency>
        <decimal>,</decimal>
        <group> </group>
        <length>15</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>Doors</name>
        <type>Integer</type>
        <format>#</format>
        <currency>$</currency>
        <decimal>,</decimal>
        <group> </group>
        <length>15</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>Owner_Count</name>
        <type>Integer</type>
        <format>#</format>
        <currency>$</currency>
        <decimal>,</decimal>
        <group> </group>
        <length>15</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>Price</name>
        <type>Integer</type>
        <format>#</format>
        <currency>$</currency>
        <decimal>,</decimal>
        <group> </group>
        <length>15</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>Pollution</name>
        <type>String</type>
        <format/>
        <currency>$</currency>
        <decimal>,</decimal>
        <group> </group>
        <length>6</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>CO2_Emissions</name>
        <type>String</type>
        <format>#</format>
        <currency>$</currency>
        <decimal>,</decimal>
        <group> </group>
        <length>15</length>
        <precision>0</precision>
        <trim_type>none</trim_type>
      </field>
      <field>
        <name>License Plate</name>
        <type>String</type>
        <format/>
        <currency/>
        <decimal/>
        <group/>
        <length>-1</length>
        <precision>-1</precision>
        <trim_type>none</trim_type>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>144</xloc>
      <yloc>160</yloc>
    </GUI>
  </transform>
  <transform>
    <name>JavaScript</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>// Máscaras que realmente aparecem no ficheiro
var masks = ["yyyy-MM-dd","dd-MM-yyyy","yyyy/MM/dd","dd/MM/yyyy","dd.MM.yyyy","MM-dd-yyyy"];

var parsed_date = null;
var s = String(Date_of_Sale).trim();

for (var i = 0; i &lt; masks.length; i++) {
  try {
    var sdf = new java.text.SimpleDateFormat(masks[i]);
    sdf.setLenient(false); // não aceitar datas inválidas
    parsed_date = sdf.parse(s);
    break;
  } catch (e) { /* tenta a próxima máscara */ }
}

// Opcional: se não conseguiu converter, pode saltar a linha
// if (parsed_date == null) { pipeline_Status = SKIP_PIPELINE; }
//parsed_date</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>
      <field>
        <name>parsed_date</name>
        <rename>parsed_date</rename>
        <type>Date</type>
        <length>-1</length>
        <precision>-1</precision>
        <replace>N</replace>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>688</xloc>
      <yloc>320</yloc>
    </GUI>
  </transform>
  <transform>
    <name>JavaScript 2</name>
    <type>ScriptValueMod</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <optimizationLevel>9</optimizationLevel>
    <jsScripts>
      <jsScript>
        <jsScript_type>0</jsScript_type>
        <jsScript_name>Script 1</jsScript_name>
        <jsScript_script>// --- Início do Script ---

// Variável de controlo para garantir que o browser só é aberto uma vez.
// A verificação 'typeof' garante que a variável só é definida na primeira linha que passa.
if (typeof browserOpened === 'undefined') {
  var browserOpened = false;
}

// Este bloco só será executado na PRIMEIRA vez que o script correr.
if (!browserOpened) {
    var url = "http://localhost:1880/ui/";
    var osName = java.lang.System.getProperty("os.name").toLowerCase();
    var command;

    if (osName.contains("win")) {
        command = "cmd /c start " + url;
    } else if (osName.contains("mac")) {
        command = "open " + url;
    } else {
        command = "xdg-open " + url;
    }

    try {
        // Executa o comando para abrir o browser
        java.lang.Runtime.getRuntime().exec(command);
    } catch (e) {
        logError("Falha ao tentar abrir o navegador: " + e);
    }
    
    // Ativa a flag para que este bloco não execute novamente.
    browserOpened = true;
}

// PARTE IMPORTANTE PARA EVITAR O ERRO:
// Deixa a linha de dados que entrou neste passo continuar o seu caminho.
// Isto satisfaz o motor do Hop e evita o erro de fluxo.
putRow(row);

// --- Fim do Script ---</jsScript_script>
      </jsScript>
    </jsScripts>
    <fields>    </fields>
    <attributes/>
    <GUI>
      <xloc>1824</xloc>
      <yloc>160</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Merge join</name>
    <type>MergeJoin</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <join_type>INNER</join_type>
    <keys_1>
      <key>Brand</key>
      <key>License_Plate</key>
      <key>Model</key>
    </keys_1>
    <keys_2>
      <key>Brand</key>
      <key>License Plate</key>
      <key>Model</key>
    </keys_2>
    <transform1>Select values 2</transform1>
    <transform2>Select values</transform2>
    <attributes/>
    <GUI>
      <xloc>960</xloc>
      <yloc>160</yloc>
    </GUI>
  </transform>
  <transform>
    <name>REST client</name>
    <type>Rest</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <applicationType>JSON</applicationType>
    <bodyField>payload_json</bodyField>
    <connectionTimeout>10000</connectionTimeout>
    <dynamicMethod>N</dynamicMethod>
    <headers>
</headers>
    <ignoreSsl>N</ignoreSsl>
    <matrixParameters>
</matrixParameters>
    <method>POST</method>
    <parameters>
</parameters>
    <preemptive>N</preemptive>
    <readTimeout>10000</readTimeout>
    <result>
</result>
    <trustStorePassword>Encrypted </trustStorePassword>
    <url>http://localhost:1880/dados-hop</url>
    <urlInField>N</urlInField>
    <attributes/>
    <GUI>
      <xloc>1712</xloc>
      <yloc>160</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Replace in string</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <case_sensitive>N</case_sensitive>
        <in_stream_name>Brand</in_stream_name>
        <is_unicode>N</is_unicode>
        <replace_string> </replace_string>
        <set_empty_string>N</set_empty_string>
        <use_regex>N</use_regex>
        <whole_word>N</whole_word>
      </field>
      <field>
        <case_sensitive>N</case_sensitive>
        <in_stream_name>CO2_Emissions</in_stream_name>
        <is_unicode>N</is_unicode>
        <replace_string>[^0-9]+</replace_string>
        <set_empty_string>N</set_empty_string>
        <use_regex>Y</use_regex>
        <whole_word>N</whole_word>
      </field>
      <field>
        <case_sensitive>N</case_sensitive>
        <in_stream_name>Engine_Size</in_stream_name>
        <is_unicode>N</is_unicode>
        <replace_string>[^0-9].[^0-9]</replace_string>
        <set_empty_string>N</set_empty_string>
        <use_regex>Y</use_regex>
        <whole_word>N</whole_word>
      </field>
      <field>
        <case_sensitive>N</case_sensitive>
        <in_stream_name>License Plate</in_stream_name>
        <is_unicode>N</is_unicode>
        <replace_string>-</replace_string>
        <set_empty_string>N</set_empty_string>
        <use_regex>N</use_regex>
        <whole_word>N</whole_word>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>448</xloc>
      <yloc>160</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Replace in string 2</name>
    <type>ReplaceString</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <case_sensitive>N</case_sensitive>
        <in_stream_name>Brand</in_stream_name>
        <is_unicode>N</is_unicode>
        <replace_string> </replace_string>
        <set_empty_string>N</set_empty_string>
        <use_regex>N</use_regex>
        <whole_word>N</whole_word>
      </field>
      <field>
        <case_sensitive>N</case_sensitive>
        <in_stream_name>License_Plate</in_stream_name>
        <is_unicode>N</is_unicode>
        <replace_string>-</replace_string>
        <set_empty_string>N</set_empty_string>
        <use_regex>N</use_regex>
        <whole_word>N</whole_word>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>448</xloc>
      <yloc>320</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <meta>
        <date_format_lenient>N</date_format_lenient>
        <length>15</length>
        <lenient_string_to_number>N</lenient_string_to_number>
        <name>CO2_Emissions</name>
        <precision>-2</precision>
        <rename>CO2_Emissions</rename>
        <roundingType>half_even</roundingType>
        <storage_type/>
        <type>Integer</type>
      </meta>
      <meta>
        <conversion_mask>0.0</conversion_mask>
        <date_format_lenient>N</date_format_lenient>
        <length>15</length>
        <lenient_string_to_number>N</lenient_string_to_number>
        <name>Engine_Size</name>
        <precision>-2</precision>
        <rename>Engine_Size</rename>
        <roundingType>half_even</roundingType>
        <storage_type/>
        <type>Integer</type>
      </meta>
      <meta>
        <date_format_lenient>N</date_format_lenient>
        <length>-2</length>
        <lenient_string_to_number>N</lenient_string_to_number>
        <name>Brand</name>
        <precision>-2</precision>
        <rename>Brand</rename>
        <roundingType>half_even</roundingType>
        <storage_type/>
        <type>String</type>
      </meta>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>800</xloc>
      <yloc>160</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values 2</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <meta>
        <conversion_mask>yyyy-MM-dd</conversion_mask>
        <date_format_lenient>N</date_format_lenient>
        <length>-2</length>
        <lenient_string_to_number>N</lenient_string_to_number>
        <name>parsed_date</name>
        <precision>-2</precision>
        <rename>Date_of_Sale</rename>
        <roundingType>half_even</roundingType>
        <storage_type/>
        <type>Date</type>
      </meta>
      <meta>
        <conversion_mask>yyyy</conversion_mask>
        <date_format_lenient>N</date_format_lenient>
        <length>-2</length>
        <lenient_string_to_number>N</lenient_string_to_number>
        <name>Year_and_Month</name>
        <precision>-2</precision>
        <rename>Year</rename>
        <roundingType>half_even</roundingType>
        <storage_type/>
        <type>Date</type>
      </meta>
      <meta>
        <date_format_lenient>N</date_format_lenient>
        <length>-2</length>
        <lenient_string_to_number>N</lenient_string_to_number>
        <name>Brand</name>
        <precision>-2</precision>
        <rename>Brand</rename>
        <roundingType>half_even</roundingType>
        <storage_type/>
        <type>String</type>
      </meta>
      <remove>
        <name>Date_of_Sale</name>
      </remove>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>800</xloc>
      <yloc>320</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Select values 3</name>
    <type>SelectValues</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <remove>
        <name>Brand_1</name>
      </remove>
      <remove>
        <name>Model_1</name>
      </remove>
      <remove>
        <name>Year_1</name>
      </remove>
      <remove>
        <name>Pollution</name>
      </remove>
      <remove>
        <name>Mileage</name>
      </remove>
      <remove>
        <name>Doors</name>
      </remove>
      <remove>
        <name>Price</name>
      </remove>
      <remove>
        <name>License_Plate</name>
      </remove>
      <select_unspecified>N</select_unspecified>
    </fields>
    <attributes/>
    <GUI>
      <xloc>1072</xloc>
      <yloc>160</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Sort rows 3</name>
    <type>SortRows</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <compress>N</compress>
    <directory>${java.io.tmpdir}</directory>
    <fields>
      <field>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <name>Brand</name>
        <presorted>N</presorted>
      </field>
      <field>
        <ascending>Y</ascending>
        <case_sensitive>N</case_sensitive>
        <collator_enabled>N</collator_enabled>
        <collator_strength>0</collator_strength>
        <name>Model</name>
        <presorted>N</presorted>
      </field>
    </fields>
    <sort_prefix>out</sort_prefix>
    <sort_size>1000000</sort_size>
    <unique_rows>N</unique_rows>
    <attributes/>
    <GUI>
      <xloc>1200</xloc>
      <yloc>160</yloc>
    </GUI>
  </transform>
  <transform>
    <name>String operations</name>
    <type>StringOperations</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>Brand</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>lower</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len>0</pad_len>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Model</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>lower</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len>0</pad_len>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Fuel_Type</in_stream_name>
        <out_stream_name/>
        <trim_type>none</trim_type>
        <lower_upper>none</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>CO2_Emissions</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>lower</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len>0</pad_len>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>License Plate</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>upper</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>320</xloc>
      <yloc>160</yloc>
    </GUI>
  </transform>
  <transform>
    <name>String operations 2</name>
    <type>StringOperations</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <fields>
      <field>
        <in_stream_name>Brand</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>lower</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len>0</pad_len>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>Model</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>lower</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len>0</pad_len>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
      <field>
        <in_stream_name>License_Plate</in_stream_name>
        <out_stream_name/>
        <trim_type>both</trim_type>
        <lower_upper>upper</lower_upper>
        <padding_type>none</padding_type>
        <pad_char/>
        <pad_len/>
        <init_cap>no</init_cap>
        <mask_xml>none</mask_xml>
        <digits>none</digits>
        <remove_special_characters>none</remove_special_characters>
      </field>
    </fields>
    <attributes/>
    <GUI>
      <xloc>320</xloc>
      <yloc>320</yloc>
    </GUI>
  </transform>
  <transform>
    <name>Write to log</name>
    <type>WriteToLog</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <displayHeader>Y</displayHeader>
    <fields>
      <field>
        <name>Brand</name>
      </field>
      <field>
        <name>Numero_Vendas</name>
      </field>
      <field>
        <name>Soma_CO2</name>
      </field>
      <field>
        <name>Media_CO2</name>
      </field>
    </fields>
    <limitRows>N</limitRows>
    <limitRowsNumber>0</limitRowsNumber>
    <loglevel>Basic</loglevel>
    <attributes/>
    <GUI>
      <xloc>1440</xloc>
      <yloc>160</yloc>
    </GUI>
  </transform>
  <transform>
    <name>payload_json</name>
    <type>JsonOutput</type>
    <description/>
    <distribute>Y</distribute>
    <custom_distribution/>
    <copies>1</copies>
    <partitioning>
      <method>none</method>
      <schema_name/>
    </partitioning>
    <addToResult>N</addToResult>
    <createParentFolder>N</createParentFolder>
    <dateInFilename>N</dateInFilename>
    <doNotOpenNewFileInit>Y</doNotOpenNewFileInit>
    <encoding>UTF-8</encoding>
    <fields>
      <field>
        <element>Brand</element>
        <name>Brand</name>
      </field>
      <field>
        <element>Numero_Vendas</element>
        <name>Numero_Vendas</name>
      </field>
      <field>
        <element>Soma_CO2</element>
        <name>Soma_CO2</name>
      </field>
      <field>
        <element>Media_CO2</element>
        <name>Media_CO2</name>
      </field>
    </fields>
    <fileAppended>N</fileAppended>
    <fileAsCommand>N</fileAsCommand>
    <fileName>${PROJECT_HOME}/result/outputjson.json</fileName>
    <jsonBloc>data</jsonBloc>
    <nrRowsInBloc>0</nrRowsInBloc>
    <operation_type>both</operation_type>
    <outputValue>payload_json</outputValue>
    <partNrInFilename>N</partNrInFilename>
    <specifyingFormat>N</specifyingFormat>
    <timeInFilename>N</timeInFilename>
    <transformNrInFilename>N</transformNrInFilename>
    <attributes/>
    <GUI>
      <xloc>1568</xloc>
      <yloc>160</yloc>
    </GUI>
  </transform>
  <transform_error_handling>
  </transform_error_handling>
  <attributes/>
</pipeline>
